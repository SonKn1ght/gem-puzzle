{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/model/game-model.js","webpack:///./src/model/observer.js","webpack:///./src/presentor/game-presenter.js","webpack:///./src/utils/const.js","webpack:///./src/utils/stack.js","webpack:///./src/utils/utils-for-model.js","webpack:///./src/utils/utils.js","webpack:///./src/view/absctract-view.js","webpack:///./src/view/control-panel.js","webpack:///./src/view/game-view.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAA2C;AACY;;AAEvD;;AAEA,sBAAsB,yDAAS;;AAE/B,0BAA0B,iEAAa;;AAEvC;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACoD;AACnD;AACc;AACL;;AAE7B,wBAAwB,iDAAQ;AAC/C;AACA;AACA;AACA;AACA,wBAAwB,oDAAK;;AAE7B;AACA;;AAEA;AACA,sBAAsB,oEAAe;AACrC,sBAAsB,8EAAe;AACrC;AACA;AACA;;AAEA,wBAAwB,0EAAW;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,oEAAe;AACrC,sBAAsB,8EAAe;AACrC;AACA,wBAAwB,0EAAW;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,gBAAgB;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,uDAAU;AACvC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,wBAAwB,2EAAY;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;ACzGA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,0CAA0C,iCAAiC,EAAE;AAC7E;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwE;AAC/B;AACY;AACL;;AAEjC;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,2DAAgB;;AAEtD,IAAI,2DAAM;AACV;AACA,MAAM,2DAAc;AACpB;AACA;;AAEA;AACA,8BAA8B,uDAAQ;AACtC;AACA,IAAI,2DAAM,wDAAwD,2DAAc;AAChF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,uDAAU,WAAW,uDAAU;AAC1D;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B,uDAAU,YAAY,uDAAU;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D,iCAAiC,gCAAgC;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,+BAA+B,uDAAU;AACzC,UAAU,uDAAU;AACpB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,uDAAU;AACrB;AACA;AACA,WAAW,uDAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,uDAAU;AACrB;AACA;AACA;AACA,WAAW,uDAAU;AACrB,QAAQ,2DA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;;;;ACzCA;AAAA;AAAA;AAA+C;;AAEhC;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,kEAAa;AACnC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAA4C;AACO;;AAEpC,+BAA+B,uDAAY;AAC1D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,sEAAiB;AACrD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrGA;AAAA;AAAA;AAAA;AAA4C;AACK;;AAEjD;AACA;AACA;AACA,cAAc,IAAI;AAClB,6BAA6B,KAAK,UAAU,EAAE,GAAG,cAAc,oEAAe,qBAAqB;AACnG,+BAA+B,UAAU,IAAI,cAAc;AAC3D,GAAG;AACH;;AAEe,uBAAuB,uDAAY;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC,WAAW;AAChD,MAAM;AACN;AACA;;AAEA;AACA;AACA,iFAAiF,YAAY;AAC7F;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import GameModel from './model/game-model';\nimport GamePresenter from './presentor/game-presenter';\n\nconst bodyElement = document.querySelector(`body`);\n\nconst gameModel = new GameModel();\n\nconst gamePresenter = new GamePresenter(bodyElement, gameModel);\n\ngamePresenter.init();\n","import Observer from './observer';\nimport { shuffleGame, stirBackGame, returnGameGraph } from '../utils/utils-for-model';\nimport Stack from '../utils/stack';\nimport { getVoidPosition } from '../utils/utils';\nimport { UpdateType } from \"../utils/const\";\n\nexport default class GameModel extends Observer {\n  constructor() {\n    super();\n    this._currentGame = [];\n    this._statsCurrentGame = {};\n    this._logGame = new Stack();\n\n    this.measuringTime = this.measuringTime.bind(this);\n  }\n\n  init(options) {\n    this._voidValue = getVoidPosition(options.size);\n    const gameGraph = returnGameGraph(options.size);\n    this._statsCurrentGame.startTime = new Date();\n    this._statsCurrentGame.countMoves = 0;\n    this.measuringTime();\n\n    this._currentGame = shuffleGame(gameGraph.slice(),\n      options.numberOfMixes,\n      this._logGame, this._voidValue);\n  }\n\n  restart(updateType, update) {\n    // скидывание лога\n    this._logGame.clear();\n    // скидывание счетчика и таймера в модели\n    this._statsCurrentGame.countMoves = 0;\n    this._statsCurrentGame.startTime = new Date();\n\n    this._voidValue = getVoidPosition(update.size);\n    const gameGraph = returnGameGraph(update.size);\n    // генерации новой игры с учетом принятых опций\n    this._currentGame = shuffleGame(gameGraph.slice(),\n      update.numberOfMixes,\n      this._logGame, this._voidValue);\n\n    this._notify(updateType, update);\n  }\n\n  getGame() {\n    return this._currentGame;\n  }\n\n  updateGame(updateType, update) {\n    // получаем текущую позицию воида\n    const voidValue = this._voidValue;\n    const voidPosition = this._currentGame.findIndex((el) => {\n      return el.value === this._voidValue;\n    });\n    // получаем текущую позицию кликнутого-дропаемого элемента\n    const updatePosition = this._currentGame.findIndex((el) => {\n      return el.value === +update;\n    });\n    // проверяем доступность перемещения для полученного значения\n\n    if (!this._currentGame[voidPosition].allowedOffset.includes(updatePosition)) {\n      return;\n    }\n\n    // // меняем местами значения пустого и полученной позиции\n    this._currentGame[voidPosition].value = this._currentGame[updatePosition].value;\n    this._currentGame[updatePosition].value = voidValue;\n\n    // считаем ходы пользователя\n    this._statsCurrentGame.countMoves += 1;\n    // // пишем все перемещения в стэк\n    this._logGame.push([voidPosition, updatePosition]);\n    // console.log(`It is win = ${this.checkWin()}`)\n\n    // отправляем измененые параметры в презентор\n    const updateAll = {\n      numberBone: update,\n      count: this._statsCurrentGame.countMoves,\n    };\n    this._notify(updateType, updateAll);\n  }\n\n  measuringTime(updateType = UpdateType.MEASURING_TIME) {\n    const currentTime = new Date();\n    this._gameDuration = new Date(currentTime.getTime() - this._statsCurrentGame.startTime.getTime());\n\n    this._notify(updateType, this._gameDuration);\n\n    setTimeout(this.measuringTime, 1000);\n  }\n\n  completeGame() {\n    this._currentGame = stirBackGame(this._currentGame, this._logGame);\n  }\n\n  checkWin() {\n    let isWin = true;\n    this._currentGame.forEach((currentElement) => {\n      if (currentElement.posFix !== currentElement.value) {\n        isWin = false;\n      }\n    });\n    return isWin;\n  }\n}\n","export default class Observer {\n  constructor() {\n    this._observer = [];\n  }\n\n  addObserver(observer) {\n    this._observer.push(observer);\n  }\n\n  removeObserver(observer) {\n    this._observer = this._observer.filter((existedObserver) => {\n      return existedObserver !== observer;\n    });\n  }\n\n  _notify(event, payload) {\n    this._observer.forEach((observer) => { return observer(event, payload); });\n  }\n}\n","import { UserAction, UpdateType, RenderPosition } from '../utils/const';\nimport GameView from '../view/game-view';\nimport ControlPanelView from '../view/control-panel';\nimport { render, remove } from '../utils/utils';\n\nexport default class GamePresenter {\n  constructor(gameContainer, gameModel) {\n    this._gameContainer = gameContainer;\n    this._gameModel = gameModel;\n    this._optionGame = {\n      size: `4`,\n      numberOfMixes: 100,\n      startTime: new Date(),\n    };\n\n    this._handleNewGameClick = this._handleNewGameClick.bind(this);\n    this._handleSizeChange = this._handleSizeChange.bind(this);\n    this._handleBoneClick = this._handleBoneClick.bind(this);\n    this._handleBoneDragDrop = this._handleBoneDragDrop.bind(this);\n\n    this._handleModelEvent = this._handleModelEvent.bind(this);\n\n    this._gameModel.addObserver(this._handleModelEvent);\n  }\n\n  init() {\n    this._renderControlPanel();\n    this._gameModel.init(this._optionGame);\n    this._renderGame();\n  }\n\n  _renderControlPanel() {\n    this._controlPanelComponent = new ControlPanelView();\n\n    render(this._gameContainer,\n      this._controlPanelComponent.getElement(),\n      RenderPosition.AFTERBEGIN);\n    this._setHandlersControlPanel();\n  }\n\n  _renderGame() {\n    this._gameComponent = new GameView(this._gameModel.getGame(), this._optionGame);\n    // тут будем устанавливать на игру внешние обработчики вытащил в отдельный метод////\n    render(this._gameContainer, this._gameComponent.getElement(), RenderPosition.BEFOREEND);\n    this._setHandlersGameComponent();\n  }\n\n  _setHandlersControlPanel() {\n    this._controlPanelComponent.setNewGameClickHandler(this._handleNewGameClick);\n    this._controlPanelComponent.setSizeChangeHandler(this._handleSizeChange);\n  }\n\n  _setHandlersGameComponent() {\n    this._gameComponent.setBoneClickHandler(this._handleBoneClick);\n    this._gameComponent.setBoneDragDropHandler(this._handleBoneDragDrop);\n  }\n\n  _handleNewGameClick(evt) {\n    evt.preventDefault();\n    this._handleViewAction(UserAction.NEW_GAME, UpdateType.RESTART, this._optionGame);\n  }\n\n  _handleSizeChange(evt) {\n    this._optionGame.size = evt.target.value;\n  }\n\n  _handleBoneClick(evt) {\n    this._handleViewAction(UserAction.SWAP_BONE, UpdateType.MOVING, evt.target.dataset.position);\n  }\n\n  _handleBoneDragDrop(evt) {\n    // если будет время доработать соскальзывание курсора с костяшки при быстром перемещении мыши\n    // довольное спорный момент но функции и обработчики MouseMove и MouseUp будут здесь внутри\n    // , а не вынесены в отдельные методы\n    evt.preventDefault();\n    const targetDrag = evt.target;\n    const container = this._gameComponent.getElement();\n    const dropTargetCoords = this._gameComponent.getElement().querySelector(`.zero`).getBoundingClientRect();\n\n    let startCoords = {\n      x: evt.clientX,\n      y: evt.clientY,\n    };\n\n    const onMouseMove = (moveEvt) => {\n      // получаю объект с координатами пустой костяшки\n      // удаляем обработчик кликов на период работы перетаскивания\n      moveEvt.preventDefault();\n      this._gameComponent.removeBoneClickHandler();\n\n      const shift = {\n        x: startCoords.x - moveEvt.clientX,\n        y: startCoords.y - moveEvt.clientY,\n      };\n\n      startCoords = {\n        x: moveEvt.clientX,\n        y: moveEvt.clientY,\n      };\n\n      targetDrag.style.zIndex = 20;\n      // отклучить transition иначен все не работает\n      targetDrag.style.transition = `none`;\n      targetDrag.style.top = `${targetDrag.offsetTop - shift.y}px`;\n      targetDrag.style.left = `${targetDrag.offsetLeft - shift.x}px`;\n    };\n\n    const onMouseUp = (upEvt) => {\n      upEvt.preventDefault();\n      // откладываем восстановление, что б не было эффекта пролета\n      // костяшки под другими при возврате на место и анимации влета в ячейку\n      setTimeout(() => {\n        targetDrag.style.zIndex = ``;\n        targetDrag.style.transition = ``;\n      }, 100);\n\n      // Проверяю попал ли отпускаемый элемент на пустую костяшку\n      if (dropTargetCoords.top < upEvt.clientY && dropTargetCoords.bottom > upEvt.clientY\n&& dropTargetCoords.left < upEvt.clientX && dropTargetCoords.right > upEvt.clientX) {\n        this._handleViewAction(UserAction.SWAP_BONE,\n          UpdateType.MOVING,\n          evt.target.dataset.position);\n        targetDrag.style.top = ``;\n        targetDrag.style.left = ``;\n      } else {\n        targetDrag.style.top = ``;\n        targetDrag.style.left = ``;\n      }\n\n      container.removeEventListener(`mousemove`, onMouseMove);\n      container.removeEventListener(`mouseup`, onMouseUp);\n      // восстанавливаем обработчик кликов после всего связанного с дропом\n      setTimeout(() => {\n        this._gameComponent.setBoneClickHandler(this._handleBoneClick);\n      }, 100);\n    };\n\n    container.addEventListener(`mousemove`, onMouseMove);\n    container.addEventListener(`mouseup`, onMouseUp);\n  }\n\n  _handleViewAction(actionType, updateType, update) {\n    switch (actionType) {\n      case UserAction.SWAP_BONE:\n        this._gameModel.updateGame(updateType, update);\n        break;\n      case UserAction.NEW_GAME:\n        this._gameModel.restart(updateType, update);\n        break;\n      // case UserAction.*****:\n      //   break;\n      // case UserAction.******:\n      //   break;\n    }\n  }\n\n  _handleModelEvent(updateType, data) {\n    switch (updateType) {\n      case UpdateType.MOVING:\n        this._gameComponent.swapBone(data.numberBone);\n        this._controlPanelComponent.updateCounter(data.count);\n        break;\n      case UpdateType.RESTART:\n        remove(this._gameComponent);\n        this._renderGame();\n        // при рестарте запускаем без параметров сбрасывая счетчики во view на 0\n        this._controlPanelComponent.updateCounter();\n        this._controlPanelComponent.updateTime();\n        break;\n      case UpdateType.MEASURING_TIME:\n        this._controlPanelComponent.updateTime(data);\n        break;\n\n    }\n  }\n}\n","export const UserAction = {\n  SWAP_BONE: `SWAP_BONE`,\n  NEW_GAME: `NEW_GAME`,\n};\n\nexport const UpdateType = {\n  MOVING: `MOVING`,\n  RESTART: `RESTART`,\n  MEASURING_TIME: `MEASURING_TIME`,\n};\n\nexport const RenderPosition = {\n  AFTERBEGIN: `afterbegin`,\n  BEFOREEND: `beforeend`,\n};\n\nexport const ThreeByThree = [\n  { posFix: 0, value: 0, allowedOffset: [1, 3] },\n  { posFix: 1, value: 1, allowedOffset: [0, 2, 4] },\n  { posFix: 2, value: 2, allowedOffset: [1, 5] },\n  { posFix: 3, value: 3, allowedOffset: [0, 4, 6] },\n  { posFix: 4, value: 4, allowedOffset: [1, 3, 5, 7] },\n  { posFix: 5, value: 5, allowedOffset: [2, 4, 8] },\n  { posFix: 6, value: 6, allowedOffset: [3, 7] },\n  { posFix: 7, value: 7, allowedOffset: [4, 6, 8] },\n  { posFix: 8, value: 8, allowedOffset: [5, 7] },\n];\n\nexport const FourByFour = [\n  { posFix: 0, value: 0, allowedOffset: [1, 4] },\n  { posFix: 1, value: 1, allowedOffset: [0, 2, 5] },\n  { posFix: 2, value: 2, allowedOffset: [1, 3, 6] },\n  { posFix: 3, value: 3, allowedOffset: [2, 7] },\n  { posFix: 4, value: 4, allowedOffset: [0, 5, 8] },\n  { posFix: 5, value: 5, allowedOffset: [1, 4, 6, 9] },\n  { posFix: 6, value: 6, allowedOffset: [2, 5, 7, 10] },\n  { posFix: 7, value: 7, allowedOffset: [3, 6, 11] },\n  { posFix: 8, value: 8, allowedOffset: [4, 9, 12] },\n  { posFix: 9, value: 9, allowedOffset: [5, 8, 10, 13] },\n  { posFix: 10, value: 10, allowedOffset: [6, 9, 11, 14] },\n  { posFix: 11, value: 11, allowedOffset: [7, 10, 15] },\n  { posFix: 12, value: 12, allowedOffset: [8, 13] },\n  { posFix: 13, value: 13, allowedOffset: [9, 12, 14] },\n  { posFix: 14, value: 14, allowedOffset: [10, 13, 15] },\n  { posFix: 15, value: 15, allowedOffset: [11, 14] },\n];\n\nexport const FiveByFive = [\n  { posFix: 0, value: 0, allowedOffset: [1, 5] },\n  { posFix: 1, value: 1, allowedOffset: [0, 2, 6] },\n  { posFix: 2, value: 2, allowedOffset: [1, 3, 7] },\n  { posFix: 3, value: 3, allowedOffset: [2, 4, 8] },\n  { posFix: 4, value: 4, allowedOffset: [3, 9] },\n  { posFix: 5, value: 5, allowedOffset: [0, 10, 6] },\n  { posFix: 6, value: 6, allowedOffset: [1, 11, 5, 7] },\n  { posFix: 7, value: 7, allowedOffset: [12, 2, 6, 8] },\n  { posFix: 8, value: 8, allowedOffset: [13, 3, 7, 9] },\n  { posFix: 9, value: 9, allowedOffset: [14, 4, 8] },\n  { posFix: 10, value: 10, allowedOffset: [11, 15, 5] },\n  { posFix: 11, value: 11, allowedOffset: [10, 12, 16, 6] },\n  { posFix: 12, value: 12, allowedOffset: [11, 13, 17, 7] },\n  { posFix: 13, value: 13, allowedOffset: [12, 14, 18, 8] },\n  { posFix: 14, value: 14, allowedOffset: [13, 19, 9] },\n  { posFix: 15, value: 15, allowedOffset: [10, 16, 20] },\n  { posFix: 16, value: 16, allowedOffset: [11, 15, 17, 21] },\n  { posFix: 17, value: 17, allowedOffset: [12, 16, 18, 22] },\n  { posFix: 18, value: 18, allowedOffset: [13, 17, 19, 23] },\n  { posFix: 19, value: 19, allowedOffset: [14, 18, 24] },\n  { posFix: 20, value: 20, allowedOffset: [15, 21] },\n  { posFix: 21, value: 21, allowedOffset: [16, 20, 22] },\n  { posFix: 22, value: 22, allowedOffset: [17, 21, 23] },\n  { posFix: 23, value: 23, allowedOffset: [18, 22, 24] },\n  { posFix: 24, value: 24, allowedOffset: [19, 23] },\n];\n\nexport const SixBySix = [\n  { posFix: 0, value: 0, allowedOffset: [1, 6] },\n  { posFix: 1, value: 1, allowedOffset: [0, 2, 7] },\n  { posFix: 2, value: 2, allowedOffset: [1, 3, 8] },\n  { posFix: 3, value: 3, allowedOffset: [2, 4, 9] },\n  { posFix: 4, value: 4, allowedOffset: [10, 3, 5] },\n  { posFix: 5, value: 5, allowedOffset: [11, 4] },\n  { posFix: 6, value: 6, allowedOffset: [0, 12, 7] },\n  { posFix: 7, value: 7, allowedOffset: [1, 13, 6, 8] },\n  { posFix: 8, value: 8, allowedOffset: [14, 2, 7, 9] },\n  { posFix: 9, value: 9, allowedOffset: [10, 15, 3, 8] },\n  { posFix: 10, value: 10, allowedOffset: [11, 16, 4, 9] },\n  { posFix: 11, value: 11, allowedOffset: [10, 17, 5] },\n  { posFix: 12, value: 12, allowedOffset: [13, 18, 6] },\n  { posFix: 13, value: 13, allowedOffset: [12, 14, 19, 7] },\n  { posFix: 14, value: 14, allowedOffset: [13, 15, 20, 8] },\n  { posFix: 15, value: 15, allowedOffset: [14, 16, 21, 9] },\n  { posFix: 16, value: 16, allowedOffset: [10, 15, 17, 22] },\n  { posFix: 17, value: 17, allowedOffset: [11, 16, 23] },\n  { posFix: 18, value: 18, allowedOffset: [12, 19, 24] },\n  { posFix: 19, value: 19, allowedOffset: [13, 18, 20, 25] },\n  { posFix: 20, value: 20, allowedOffset: [14, 19, 21, 26] },\n  { posFix: 21, value: 21, allowedOffset: [15, 20, 22, 27] },\n  { posFix: 22, value: 22, allowedOffset: [16, 21, 23, 28] },\n  { posFix: 23, value: 23, allowedOffset: [17, 22, 29] },\n  { posFix: 24, value: 24, allowedOffset: [18, 25, 30] },\n  { posFix: 25, value: 25, allowedOffset: [19, 24, 26, 31] },\n  { posFix: 26, value: 26, allowedOffset: [20, 25, 27, 32] },\n  { posFix: 27, value: 27, allowedOffset: [21, 26, 28, 33] },\n  { posFix: 28, value: 28, allowedOffset: [22, 27, 29, 34] },\n  { posFix: 29, value: 29, allowedOffset: [23, 28, 35] },\n  { posFix: 30, value: 30, allowedOffset: [24, 31] },\n  { posFix: 31, value: 31, allowedOffset: [25, 30, 32] },\n  { posFix: 32, value: 32, allowedOffset: [26, 31, 33] },\n  { posFix: 33, value: 33, allowedOffset: [27, 32, 34] },\n  { posFix: 34, value: 34, allowedOffset: [28, 33, 35] },\n  { posFix: 35, value: 35, allowedOffset: [29, 34] },\n];\n\nexport const SevenBySeven = [\n  { posFix: 0, value: 0, allowedOffset: [1, 7] },\n  { posFix: 1, value: 1, allowedOffset: [0, 2, 8] },\n  { posFix: 2, value: 2, allowedOffset: [1, 3, 9] },\n  { posFix: 3, value: 3, allowedOffset: [10, 2, 4] },\n  { posFix: 4, value: 4, allowedOffset: [11, 3, 5] },\n  { posFix: 5, value: 5, allowedOffset: [12, 4, 6] },\n  { posFix: 6, value: 6, allowedOffset: [13, 5] },\n  { posFix: 7, value: 7, allowedOffset: [0, 14, 8] },\n  { posFix: 8, value: 8, allowedOffset: [1, 15, 7, 9] },\n  { posFix: 9, value: 9, allowedOffset: [10, 16, 2, 8] },\n  { posFix: 10, value: 10, allowedOffset: [11, 17, 3, 9] },\n  { posFix: 11, value: 11, allowedOffset: [10, 12, 18, 4] },\n  { posFix: 12, value: 12, allowedOffset: [11, 13, 19, 5] },\n  { posFix: 13, value: 13, allowedOffset: [12, 20, 6] },\n  { posFix: 14, value: 14, allowedOffset: [15, 21, 7] },\n  { posFix: 15, value: 15, allowedOffset: [14, 16, 22, 8] },\n  { posFix: 16, value: 16, allowedOffset: [15, 17, 23, 9] },\n  { posFix: 17, value: 17, allowedOffset: [10, 16, 18, 24] },\n  { posFix: 18, value: 18, allowedOffset: [11, 17, 19, 25] },\n  { posFix: 19, value: 19, allowedOffset: [12, 18, 20, 26] },\n  { posFix: 20, value: 20, allowedOffset: [13, 19, 27] },\n  { posFix: 21, value: 21, allowedOffset: [14, 22, 28] },\n  { posFix: 22, value: 22, allowedOffset: [15, 21, 23, 29] },\n  { posFix: 23, value: 23, allowedOffset: [16, 22, 24, 30] },\n  { posFix: 24, value: 24, allowedOffset: [17, 23, 25, 31] },\n  { posFix: 25, value: 25, allowedOffset: [18, 24, 26, 32] },\n  { posFix: 26, value: 26, allowedOffset: [19, 25, 27, 33] },\n  { posFix: 27, value: 27, allowedOffset: [20, 26, 34] },\n  { posFix: 28, value: 28, allowedOffset: [21, 29, 35] },\n  { posFix: 29, value: 29, allowedOffset: [22, 28, 30, 36] },\n  { posFix: 30, value: 30, allowedOffset: [23, 29, 31, 37] },\n  { posFix: 31, value: 31, allowedOffset: [24, 30, 32, 38] },\n  { posFix: 32, value: 32, allowedOffset: [25, 31, 33, 39] },\n  { posFix: 33, value: 33, allowedOffset: [26, 32, 34, 40] },\n  { posFix: 34, value: 34, allowedOffset: [27, 33, 41] },\n  { posFix: 35, value: 35, allowedOffset: [28, 36, 42] },\n  { posFix: 36, value: 36, allowedOffset: [29, 35, 37, 43] },\n  { posFix: 37, value: 37, allowedOffset: [30, 36, 38, 44] },\n  { posFix: 38, value: 38, allowedOffset: [31, 37, 39, 45] },\n  { posFix: 39, value: 39, allowedOffset: [32, 38, 40, 46] },\n  { posFix: 40, value: 40, allowedOffset: [33, 39, 41, 47] },\n  { posFix: 41, value: 41, allowedOffset: [34, 40, 48] },\n  { posFix: 42, value: 42, allowedOffset: [35, 43] },\n  { posFix: 43, value: 43, allowedOffset: [36, 42, 44] },\n  { posFix: 44, value: 44, allowedOffset: [37, 43, 45] },\n  { posFix: 45, value: 45, allowedOffset: [38, 44, 46] },\n  { posFix: 46, value: 46, allowedOffset: [39, 45, 47] },\n  { posFix: 47, value: 47, allowedOffset: [40, 46, 48] },\n  { posFix: 48, value: 48, allowedOffset: [41, 47] },\n];\n\nexport const EightByEight = [\n  { posFix: 0, value: 0, allowedOffset: [1, 8] },\n  { posFix: 1, value: 1, allowedOffset: [0, 2, 9] },\n  { posFix: 2, value: 2, allowedOffset: [1, 10, 3] },\n  { posFix: 3, value: 3, allowedOffset: [11, 2, 4] },\n  { posFix: 4, value: 4, allowedOffset: [12, 3, 5] },\n  { posFix: 5, value: 5, allowedOffset: [13, 4, 6] },\n  { posFix: 6, value: 6, allowedOffset: [14, 5, 7] },\n  { posFix: 7, value: 7, allowedOffset: [15, 6] },\n  { posFix: 8, value: 8, allowedOffset: [0, 16, 9] },\n  { posFix: 9, value: 9, allowedOffset: [1, 10, 17, 8] },\n  { posFix: 10, value: 10, allowedOffset: [11, 18, 2, 9] },\n  { posFix: 11, value: 11, allowedOffset: [10, 12, 19, 3] },\n  { posFix: 12, value: 12, allowedOffset: [11, 13, 20, 4] },\n  { posFix: 13, value: 13, allowedOffset: [12, 14, 21, 5] },\n  { posFix: 14, value: 14, allowedOffset: [13, 15, 22, 6] },\n  { posFix: 15, value: 15, allowedOffset: [14, 23, 7] },\n  { posFix: 16, value: 16, allowedOffset: [17, 24, 8] },\n  { posFix: 17, value: 17, allowedOffset: [16, 18, 25, 9] },\n  { posFix: 18, value: 18, allowedOffset: [10, 17, 19, 26] },\n  { posFix: 19, value: 19, allowedOffset: [11, 18, 20, 27] },\n  { posFix: 20, value: 20, allowedOffset: [12, 19, 21, 28] },\n  { posFix: 21, value: 21, allowedOffset: [13, 20, 22, 29] },\n  { posFix: 22, value: 22, allowedOffset: [14, 21, 23, 30] },\n  { posFix: 23, value: 23, allowedOffset: [15, 22, 31] },\n  { posFix: 24, value: 24, allowedOffset: [16, 25, 32] },\n  { posFix: 25, value: 25, allowedOffset: [17, 24, 26, 33] },\n  { posFix: 26, value: 26, allowedOffset: [18, 25, 27, 34] },\n  { posFix: 27, value: 27, allowedOffset: [19, 26, 28, 35] },\n  { posFix: 28, value: 28, allowedOffset: [20, 27, 29, 36] },\n  { posFix: 29, value: 29, allowedOffset: [21, 28, 30, 37] },\n  { posFix: 30, value: 30, allowedOffset: [22, 29, 31, 38] },\n  { posFix: 31, value: 31, allowedOffset: [23, 30, 39] },\n  { posFix: 32, value: 32, allowedOffset: [24, 33, 40] },\n  { posFix: 33, value: 33, allowedOffset: [25, 32, 34, 41] },\n  { posFix: 34, value: 34, allowedOffset: [26, 33, 35, 42] },\n  { posFix: 35, value: 35, allowedOffset: [27, 34, 36, 43] },\n  { posFix: 36, value: 36, allowedOffset: [28, 35, 37, 44] },\n  { posFix: 37, value: 37, allowedOffset: [29, 36, 38, 45] },\n  { posFix: 38, value: 38, allowedOffset: [30, 37, 39, 46] },\n  { posFix: 39, value: 39, allowedOffset: [31, 38, 47] },\n  { posFix: 40, value: 40, allowedOffset: [32, 41, 48] },\n  { posFix: 41, value: 41, allowedOffset: [33, 40, 42, 49] },\n  { posFix: 42, value: 42, allowedOffset: [34, 41, 43, 50] },\n  { posFix: 43, value: 43, allowedOffset: [35, 42, 44, 51] },\n  { posFix: 44, value: 44, allowedOffset: [36, 43, 45, 52] },\n  { posFix: 45, value: 45, allowedOffset: [37, 44, 46, 53] },\n  { posFix: 46, value: 46, allowedOffset: [38, 45, 47, 54] },\n  { posFix: 47, value: 47, allowedOffset: [39, 46, 55] },\n  { posFix: 48, value: 48, allowedOffset: [40, 49, 56] },\n  { posFix: 49, value: 49, allowedOffset: [41, 48, 50, 57] },\n  { posFix: 50, value: 50, allowedOffset: [42, 49, 51, 58] },\n  { posFix: 51, value: 51, allowedOffset: [43, 50, 52, 59] },\n  { posFix: 52, value: 52, allowedOffset: [44, 51, 53, 60] },\n  { posFix: 53, value: 53, allowedOffset: [45, 52, 54, 61] },\n  { posFix: 54, value: 54, allowedOffset: [46, 53, 55, 62] },\n  { posFix: 55, value: 55, allowedOffset: [47, 54, 63] },\n  { posFix: 56, value: 56, allowedOffset: [48, 57] },\n  { posFix: 57, value: 57, allowedOffset: [49, 56, 58] },\n  { posFix: 58, value: 58, allowedOffset: [50, 57, 59] },\n  { posFix: 59, value: 59, allowedOffset: [51, 58, 60] },\n  { posFix: 60, value: 60, allowedOffset: [52, 59, 61] },\n  { posFix: 61, value: 61, allowedOffset: [53, 60, 62] },\n  { posFix: 62, value: 62, allowedOffset: [54, 61, 63] },\n  { posFix: 63, value: 63, allowedOffset: [55, 62] },\n];\n","export default class Stack {\n  constructor() {\n    this.count = 0;\n    this.storage = {};\n  }\n\n  push(value) {\n    this.storage[this.count] = value;\n    this.count += 1;\n  }\n\n  pop() {\n    if (this.count === 0) {\n      return undefined;\n    }\n\n    this.count -= 1;\n    const result = this.storage[this.count];\n    delete this.storage[this.count];\n    return result;\n  }\n\n  size() {\n    return this.count;\n  }\n\n  peek() {\n    return this.storage[this.count - 1];\n  }\n\n  clear() {\n    this.count = 0;\n    this.storage = {};\n  }\n}\n","import {\n  ThreeByThree, FourByFour, FiveByFive, SixBySix, SevenBySeven, EightByEight,\n} from \"./const\";\n\nconst getRandomInteger = (a = 0, b = 1) => {\n  const lower = Math.ceil(Math.min(a, b));\n  const upper = Math.floor(Math.max(a, b));\n\n  return Math.floor(lower + Math.random() * (upper - lower + 1));\n};\n\nexport const shuffleGame = (array, numberOfMixes, log, voidValue) => {\n  const mixedArray = array.slice();\n  for (let i = 0; i < numberOfMixes; i += 1) {\n    // ищем положение пустой клетки по ее значению\n    const voidPosition = mixedArray.findIndex((el) => { return el.value === voidValue; });\n    // выбираем индекс случайного перемещения из доступных по индексу их в массиве\n    const swapIndex = getRandomInteger(0, mixedArray[voidPosition].allowedOffset.length - 1);\n    // определяем доступное смещение\n    const swapPosition = mixedArray[voidPosition].allowedOffset[swapIndex];\n    // меняем местами ноль и одну из доступных позиций\n    mixedArray[voidPosition].value = mixedArray[swapPosition].value;\n    mixedArray[swapPosition].value = voidValue;\n    // пишем все перемещения в стэк\n    log.push([voidPosition, swapPosition]);\n  }\n  // возвращаем перемешанную комбинацию\n  return mixedArray;\n};\n\nexport const stirBackGame = (array, log) => {\n  const arrayBack = array.slice();\n  const count = log.size();\n  for (let i = 0; i < count; i += 1) {\n    const swapIndex = log.pop();\n\n    const swapStorage = arrayBack[swapIndex[0]].value;\n    arrayBack[swapIndex[0]].value = arrayBack[swapIndex[1]].value;\n    arrayBack[swapIndex[1]].value = swapStorage;\n  }\n  return arrayBack;\n};\n\nexport const returnGameGraph = (size) => {\n  let gameGraph;\n  switch (size) {\n    case `3`:\n      gameGraph = ThreeByThree;\n      break;\n    case `4`:\n      gameGraph = FourByFour;\n      break;\n    case `5`:\n      gameGraph = FiveByFive;\n      break;\n    case `6`:\n      gameGraph = SixBySix;\n      break;\n    case `7`:\n      gameGraph = SevenBySeven;\n      break;\n    case `8`:\n      gameGraph = EightByEight;\n      break;\n    default:\n      throw new Error(`not received Game Graph`);\n  }\n  return gameGraph;\n};\n","import { RenderPosition } from './const';\nimport AbstractView from '../view/absctract-view';\n\nexport const createElement = (template) => {\n  const newElement = document.createElement(`div`);\n  newElement.innerHTML = template;\n\n  return newElement.firstChild;\n};\n\nexport const render = (container, child, place) => {\n  switch (place) {\n    case RenderPosition.AFTERBEGIN:\n      container.prepend(child);\n      break;\n    case RenderPosition.BEFOREEND:\n      container.append(child);\n      break;\n  }\n};\n\nexport const remove = (component) => {\n  if (component === null) {\n    return;\n  }\n\n  if (!(component instanceof AbstractView)) {\n    throw new Error(`Can remove only components`);\n  }\n\n  component.getElement().remove();\n  component.removeElement();\n};\n\n// по размеру ребра поля получаем ключ последнего элемента в массиве\nexport const getVoidPosition = (size) => {\n  return parseInt(size, 10) ** 2 - 1;\n};\n\nexport const formatTimeByHuman = (date) => {\n  return date.toLocaleString(`en-US`, { minute: `2-digit`, second: `2-digit` });\n};\n","import { createElement } from '../utils/utils';\n\nexport default class AbstractView {\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error(`Can not instantiate Abstract, only concrete one.`);\n    }\n    this._element = null;\n    this._callback = {};\n  }\n\n  _getTemplate() {\n    throw new Error(`Abstract method not implemented: getTemplate`);\n  }\n\n  getElement() {\n    if (!this._element) {\n      this._element = createElement(this._getTemplate());\n    }\n\n    return this._element;\n  }\n\n  removeElement() {\n    this._element = null;\n  }\n}\n","import AbstractView from './absctract-view';\nimport { formatTimeByHuman } from '../utils/utils';\n\nexport default class ControlPanelView extends AbstractView {\n  constructor() {\n    super();\n\n    this._countContainer = this.getElement().querySelector(`.control-panel__moves`);\n    this._timeContainer = this.getElement().querySelector(`.control-panel__time`);\n\n    this._newGameClickHandler = this._newGameClickHandler.bind(this);\n    this._sizeChangeHandler = this._sizeChangeHandler.bind(this);\n  }\n\n  _getTemplate() {\n    return `<div class=\"control-panel\">\n              <div class=\"control-panel__wrapper-first-row\">\n                <button class=\"control-panel__new-game\">New Game</button>\n                <div class=\"control-panel__options\">\n                  <ul class=\"control-panel__size-control-list\">\n                    <li class=\"control-panel__size-item\">\n                      <label>\n                        <input class=\"visually-hidden\" type=\"radio\" name=\"size\" value=\"3\">\n                        <span class=\"radio-indicator\">3X3</span>\n                      </label>\n                    </li>\n                    <li class=\"control-panel__size-item\">\n                      <label>\n                        <input class=\"visually-hidden\" type=\"radio\" name=\"size\" value=\"4\" checked>\n                        <span class=\"radio-indicator\">4X4</span>\n                      </label>\n                    </li>\n                    <li class=\"control-panel__size-item\">\n                      <label>\n                        <input class=\"visually-hidden\" type=\"radio\" name=\"size\" value=\"5\">\n                        <span class=\"radio-indicator\">5X5</span>\n                      </label>\n                    </li>\n                    <li class=\"control-panel__size-item\">\n                      <label>\n                        <input class=\"visually-hidden\" type=\"radio\" name=\"size\" value=\"6\">\n                        <span class=\"radio-indicator\">6X6</span>\n                      </label>\n                    </li>\n                    <li class=\"control-panel__size-item\">\n                      <label>\n                        <input class=\"visually-hidden\" type=\"radio\" name=\"size\" value=\"7\">\n                        <span class=\"radio-indicator\">7X7</span>\n                      </label>\n                    </li>\n                    <li class=\"control-panel__size-item\">\n                      <label>\n                        <input class=\"visually-hidden\" type=\"radio\" name=\"size\" value=\"8\">\n                        <span class=\"radio-indicator\">8X8</span>\n                      </label>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div class=\"control-panel__wrapper-second-row\">\n                <div class=\"control-panel__moves-container\">\n                Moves: <span class=\"control-panel__moves\">0</span>\n                </div>\n                <div class=\"control-panel__time-container\">\n                Time: <span class=\"control-panel__time\">00:00</span>\n                </div>\n              </div>\n\n\n\n            </div>`;\n  }\n\n  updateCounter(count = 0) {\n    this._count = count;\n    this._countContainer.innerHTML = this._count;\n  }\n\n  updateTime(time = new Date(0)) {\n    this._timeContainer.innerHTML = formatTimeByHuman(time);\n  }\n\n  _newGameClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.newGameClickHandler(evt);\n  }\n\n  setNewGameClickHandler(callback) {\n    this._callback.newGameClickHandler = callback;\n    this.getElement().querySelector(`.control-panel__new-game`).addEventListener(`click`, this._newGameClickHandler);\n  }\n\n  _sizeChangeHandler(evt) {\n    evt.preventDefault();\n    this._callback.sizeChangeHandler(evt);\n  }\n\n  setSizeChangeHandler(callback) {\n    this._callback.sizeChangeHandler = callback;\n    this.getElement().querySelector(`.control-panel__size-control-list`).addEventListener(`change`, this._sizeChangeHandler);\n  }\n}\n","import AbstractView from './absctract-view';\nimport { getVoidPosition } from '../utils/utils';\n\nconst getTemlateBones = (data, size) => {\n  // console.log(data)\n  return data.reduce((acc, cur, i) => {\n    return `${acc}<div\n              class=\"bone_x${size} number_${i} ${cur.value === getVoidPosition(size) ? `zero` : ``}\"\n              data-position=\"${cur.value}\">${cur.value + 1}</div>`;\n  }, ``);\n};\n\nexport default class GameView extends AbstractView {\n  constructor(game, options) {\n    super();\n    this._size = options.size;\n    this._game = game;\n\n    this._boneClickHandler = this._boneClickHandler.bind(this);\n    this._boneDragDropHandler = this._boneDragDropHandler.bind(this);\n\n    this._setInnerHandlers();\n  }\n\n  _getTemplate() {\n    return `<div class=\"container_x${this._size} bones\">\n    ${getTemlateBones(this._game, this._size)}\n  </div>`;\n  }\n\n  swapBone(swapElement) {\n    // поиск элемента по значению дата-атрибута\n    const swapTargetElement = this.getElement().querySelector(`[data-position='${swapElement}']`);\n    const swapVoidElement = this.getElement().querySelector(`.zero`);\n\n    const swapTargetElementClass = swapTargetElement.classList.value;\n    const swapVoidElementClass = swapVoidElement.classList.value;\n\n    swapTargetElement.className = swapVoidElementClass;\n    swapVoidElement.className = swapTargetElementClass;\n\n    swapTargetElement.classList.toggle(`zero`);\n    swapVoidElement.classList.toggle(`zero`);\n  }\n\n  _setInnerHandlers() {\n    // this.getElement().addEventListener(`mousedown`, this._boneMousedownHandler);\n  }\n\n  _boneClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.boneClick(evt);\n  }\n\n  setBoneClickHandler(callback) {\n    this._callback.boneClick = callback;\n    this.getElement().addEventListener(`click`, this._boneClickHandler);\n  }\n\n  removeBoneClickHandler() {\n    this.getElement().removeEventListener(`click`, this._boneClickHandler);\n  }\n\n  _boneDragDropHandler(evt) {\n    evt.preventDefault();\n    this._callback.boneDragDrop(evt);\n  }\n\n  setBoneDragDropHandler(callback) {\n    this._callback.boneDragDrop = callback;\n    this.getElement().addEventListener(`mousedown`, this._boneDragDropHandler);\n  }\n}\n"],"sourceRoot":""}